(function(e){"use strict";var t='[data-toggle="socialshare"]';var n=".socialshare";var r='.socialshare.open[data-type="small-bubbles"] .share-options div.fb-like iframe';var i;var s=""+'<div class="dropdown-toggle" data-toggle="socialshare">'+'    <a class="share-button" role="button" href="#" aria-controls="share-options" aria-expanded="false"><span>Share This</span></a>'+'    <div class="share-options">'+"        <ul>"+'            <li><div class="fb-like"></div></li>'+'            <li><div class="g-plusone"></div></li>'+'            <li><a href="https://twitter.com/share" class="twitter-share-button"></a></li>'+"        </ul>"+"    </div>"+"</div>";var o;var u={facebook:{id:"facebook-jssdk",src:"//connect.facebook.net/en_US/all.js#xfbml=1&appId=255566051148260",selector:".fb-like","small-bubbles":{"data-send":"false","data-layout":"button_count","data-width":"105","data-height":"20","data-show-face":"false"},bubbles:{"data-send":"false","data-layout":"box_count","data-width":"12","data-show-faces":"false"},small:{"data-send":"false","data-width":"85","data-show-face":"false"}},googleplus:{id:"gplus-api",src:"https://apis.google.com/js/plusone.js",selector:".g-plusone","small-bubbles":{},bubbles:{"data-size":"tall"},small:{"data-size":"small","data-annotation":"none"}},twitter:{id:"twitter-wjs",src:"//platform.twitter.com/widgets.js",selector:".twitter-share-button","small-bubbles":{"data-via":"mozhacks","data-related":"mozhacks"},bubbles:{"data-via":"mozhacks","data-count":"vertical","data-related":"mozhacks"},small:{"data-via":"mozhacks","data-count":"none","data-related":"mozhacks"}}};var a=function(){e(t).parent().removeClass("open");e(t).find(".share-button").attr("aria-expanded","false")};var f=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};f.prototype={constructor:f,scripts_loaded:false,toggle:function(t){var n=e(this).parent();var s=n.hasClass("open");a();if(!s){e(this).find(".share-button").attr("aria-expanded","true");n.toggleClass("open")}i=e(r).css({width:u.facebook["small-bubbles"]["data-width"],height:u.facebook["small-bubbles"]["data-height"]});f.prototype.load_sharing();return false},load_sharing:function(){if(!this.scripts_loaded){e("body").append('<div id="fb-root" aria-hidden="true"></div>');for(var t in u){this.load_script(u[t].src,u[t].id)}this.scripts_loaded=true}},load_script:function(e,t){var n=document.getElementsByTagName("script")[0];var r=document.getElementById(t);if(!r){r=document.createElement("script");r.id=t;n.parentNode.insertBefore(r,n)}r.src=e}};e.fn.dropdown=function(t){return this.each(function(){var n=e(this);var r=n.data("dropdown");if(!r){n.data("dropdown",r=new f(this))}if(typeof t==="string"){r[t].call(n)}})};e.fn.dropdown.Constructor=f;var l=function(e,t){u.twitter["small-bubbles"][e]=t;u.twitter["bubbles"][e]=t};e(function(){e("html").on("click.dropdown.data-api",a);e("body").on("click.dropdown.data-api",t,f.prototype.toggle);i=e(n);var r=i.attr("data-tweet-at");if(r){l("data-via",r)}var o=e('meta[property="og:title"]');if(o){l("data-text",o.attr("content"))}var c=e('meta[property="og:url"]');if(c){l("data-url",c.attr("content"))}i.append(s);for(var h in u){i.find(u[h].selector).attr(u[h][i.attr("data-type")])}i.find(".share-button").keypress(function(t){if(t.which===32){e(this).trigger("click");t.preventDefault()}});e(document).keydown(function(t){if(t.which===27&&e(".socialshare").hasClass("open")){e(".share-button").trigger("click")}})})})(window.jQuery)
